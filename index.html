<!DOCTYPE html>
<html>
<head>
	<title>Leaflet.SmoothMarkerBouncing plugin demo</title>

	<!-- CSS -->

	<!-- Vendors -->
	<link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
	<link rel="stylesheet" type="text/css" href="https://rawgit.com/Turbo87/leaflet-sidebar/master/src/L.Control.Sidebar.css" />

	<!-- Resources -->
	<link rel="stylesheet" type="text/css" href="resources/styles/default.css" />
</head>
<body>
	<div id="sidebar">
		<h1>Leaflet.SmoothMarkerBouncing Plugin Demo</h1>
		<p>See how bouncing works.</p>
		<ul>
			<li>Click any marker to make it bounce</li>
			<li>Click to bouncing marker to stop the bouncing</li>
		</ul>
	</div>

	<div id="map" />

	<!-- Scripts -->

	<!-- Vendors -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
	<script type="text/javascript" src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
	<script type="text/javascript" src="https://rawgit.com/Turbo87/leaflet-sidebar/master/src/L.Control.Sidebar.js"></script>

	<!-- Raw source from Github -->
	<script type="text/javascript" src="https://rawgit.com/hosuaby/Leaflet.SmoothMarkerBouncing/master/leaflet.smoothmarkerbouncing.js"></script>

	<script type="text/javascript">
		var map = L.map('map').setView([48.847547, 2.351074], 14);

		/* Tiles layer from OpenStreetMap */
		L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);

		/* Create sidebar */
		var sidebar = L.control.sidebar('sidebar', {
			position: 'left'
		});

		map.addControl(sidebar);

		/* Show sidebar on startup */
		setTimeout(function() {
			sidebar.show();
		}, 500);

		/* Limit to Paris area */
		var bounds = [[48.824384, 2.284298], [48.872054, 2.409782]];

		_(20).times(function() {
			var lat = _.random(bounds[0][0], bounds[1][0]);
			var lng = _.random(bounds[0][1], bounds[1][1]);

			var marker = L.marker([lat, lng], {
				// icon: new L.icons.energy.ChargingStation({
				// 	full: _.random(1),
				// 	operational: _.random(1),
				// 	states: {
				// 		nbFree: _.random(0, 150),
				// 		nbOccupied: _.random(0, 150),
				// 		nbReserved: _.random(0, 150),
				// 		nbUnavailable: _.random(0, 150)
				// 	},
				// 	primary: _.sample(['free', 'occupied', 'reserved', 'unavailable'])
				// })

				// TODO: set default contractHeight to 12px
				contractHeight: 12,
				// TODO: fix the bug with shadowAngle
				shadowAngle: Math.PI / 4

			}).on('click', function() {
				this.toogleBouncing();
			}).addTo(map);
		});
	</script>
</body>
</html>